{% extends "base.html" %}
<html lang="ko">
<head>
    {% block header %}
        {{ super() }}
        <meta charset="UTF-8">
        <title>SpartaCodingClub</title>
        <script>
            function fixedTime(time) {
                return [String(Math.trunc(time/60)).padStart(2,'0'), String((time%60)).padStart(2,'0')]
            }
            const check = bool => bool ? '<i class="fas fa-check-circle"></i>' : '<i class="far fa-check-circle"></i>'
            window.onload = function () {
                const courseName = getCookie("course")
                fetch("/api/courses")
                .then((resp)=> resp.json())
                .then((response)=> {
                    let div = document.querySelector(".round-week-detail-body")
                    let totalPlaytime = 0
                    response["courses"].forEach((klass)=>{
                        let {title, done, seen, order, week, week_order, playtime} = klass
                        let playtimeFixed = fixedTime(playtime)[0]+":"+fixedTime(playtime)[1]
                        div.innerHTML += `
                            <div class="week-body">
                                <div class="week-detail-num">${week}-${week_order}</div>
                                <div class="week-detail-title">[${week} Ï£ºÏ∞®] ${title}</div>
                                <div class="week-detail-playtime">${playtimeFixed}</div>
                                <div class="week-detail-seen">${check(done)}</div>
                            </div>`
                        totalPlaytime+=playtime
                    })
                    document.querySelector(".detail-obj").textContent =
                        fixedTime(totalPlaytime)[0]+"ÏãúÍ∞Ñ "+fixedTime(totalPlaytime)[1]+"Î∂Ñ"
                })
                .catch((err) => console.error(err))
            }
        
            function toggleList() {
                document.querySelector(".round-week-detail-body").classList.toggle("is-hidden")
            }
        </script>
    {% endblock %}
</head>
<body>
{% block body %}
    <div class="root">
        <div class="heading">
        </div>
        <div class="wrapper">
            <div class="">
                <div class="navigation-bar"></div>
                <div class="roadmap-bg">
                    <div class="roadmap">
                        <div class="roadmap-content">
                            <div class="content-main">
                                <div class="round-week">
                                    <div class="lectures">
                                            <div class="roadmap-header">
                                                <div class="header-summary">
                                                    <div class="summary-title">
                                                        <span class="summary-header">Î∞∞Ïö∞Í∏∞</span>
                                                        ÏõπÍ∞úÎ∞úÏùòÎ¥Ñ, Spring 1Ï£ºÏ∞®
                                                    </div>
                                                    <div class="summary-detail">
                                                        <div class="detail-obj">
                                                            <i class="fas fa-clock"></i>2ÏãúÍ∞Ñ 21Î∂Ñ
                                                        </div>
                                                        <div class="detail-obj">
                                                            <i class="fas fa-exclamation-triangle"></i>9Ïõî 19Ïùº(Ïùº)
                                                        </div>
                                                        <div class="detail-mat">
                                                            <a href="" target="">Í∞ïÏùòÏûêÎ£å
                                                                <i class="fas fa-external-link-alt"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="header-colleague">
                                                    <div class="colleague">
                                                        <div class="colleague-info">Ïú†ÎèôÎØº Îãò Ïô∏<br>
                                                            <span class="colleague-num">3</span>Î™ÖÏù¥ Îì£Í≥† ÏûàÏñ¥Ïöî. Ïö∞ÏôÄ!üëè
                                                        </div>
                                                        <div class="colleague-profiles">
                                                            <img src="/static/images/rtan01.png" alt="">
                                                            <img src="/static/images/rtan02.png" alt="">
                                                            <img src="/static/images/rtan03.png" alt="">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dotted-hr">
                                            </div>
                                            <div class="round-week-detail">
                                                <div class="week-detail-header">
                                                    <div class="detail-header-title">Í∞ïÏùò Î™©Î°ù</div>
                                                    <div class="detail-header">
                                                        <span class="detail-toggle" onclick="toggleList()">Î™©Î°ù Îã´Í∏∞</span>
                                                        {#<i class="fas fa-chevron-down"></i>#}
                                                        <i class="fas fa-chevron-up"></i>
                                                    </div>
                                                </div>
                                                <div class="round-week-detail-body"></div>
                                            </div>
                                    </div>
                                    <div class="homeworks">
                                        <div class="week-homework">
                                            <div class="week-homework-title">ÏàôÏ†ú
                                            </div>
                                            <div class="week-homework-status">Ï†úÏ∂úÏ†Ñ</div>
                                        </div>
                                    </div>
                                    <div class="wil">
                                        <div class="round-wil">
                                            <div class="round-wil-title">Í∞úÎ∞úÏùºÏßÄ</div>
                                            <div class="round-wil-status">Ï†úÏ∂úÏ†Ñ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
</body>
</html>